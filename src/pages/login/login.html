<!--
Generated template for the LoginPage page.

See http://ionicframework.com/docs/components/#navigation for more info on
Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title>Login</ion-title>
        <ion-buttons end>
            <button ion-button margin-right="20px" (click)="doLangSelection()">
                <span class="flag-icon flag-icon-{{ translate.currentLang }}"></span>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content>
    <ion-select #sectionSelect (ngModel)="login"  (ionChange)="onSelectChange($event)">
        <ion-option value="{{ translate.currentLang }}" selected="true">{{ 'lang' | translate }}</ion-option>
        <ion-option *ngFor="let lang of getLangs()" value="{{ lang }}">{{ lang | translate }}</ion-option>
    </ion-select>
</ion-content>

<ion-content padding style="background: url(../../assets/imgs/bglogin.jpg) center; background-size: cover;">
    <div class="login-header">
      <div class="app-icon"></div>
      <h1>IonicTodos</h1>
    </div>
    <div *ngIf="!logger.isLogged()">
        <ion-card>
            <ion-card-content>
                <ion-item>
                    <ion-label floating>{{ 'mail-address-label' | translate }}</ion-label>
                    <ion-input highlight-color="balanced" type="text" [(ngModel)]="email"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-label floating>{{ 'password-label' | translate }}</ion-label>
                    <ion-input type="password" [(ngModel)]="password"></ion-input>
                </ion-item>
                <button ion-button (click)="loginSample()" icon-start>
                    <ion-icon name="at"></ion-icon>
                    {{ 'sample-connexion-button-caption' | translate }}
                </button>
            </ion-card-content>
        </ion-card>
        <ion-card>
            <ion-card-content>
                <button ion-button (click)="loginGooglePlus()" color="danger" icon-start>
                    <ion-icon name="logo-googleplus"></ion-icon>
                    {{ 'googleplus-connexion-button-caption' | translate }}
                </button>
            </ion-card-content>
        </ion-card>
    </div>
    <div *ngIf="logger.isLogged()">
        <ion-card>
            <ion-card-content>
                Bonjour {{ logger.displayName }}
                <button ion-button (click)="logOut()" color="danger" icon-start>
                    <ion-icon name="log-out"></ion-icon>
                    {{ 'disconnection-button-caption' | translate }}
                </button>
            </ion-card-content>
        </ion-card>
    </div>
</ion-content>
