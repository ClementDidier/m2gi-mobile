<!--
Generated template for the ListPage page.

See http://ionicframework.com/docs/components/#navigation for more info on
Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title>List</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding style="background: url(assets/imgs/bglogin.jpg) center; background-size: cover;">
  <ion-refresher (ionRefresh)="doRefresh($event)">
      <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>
    <ion-card>
        <ion-card-header>
            <ion-label>
                <ion-icon name="done-all" item-start>
                {{ 'todos-list-label-caption' | translate }}
                </ion-icon>
            </ion-label>
        </ion-card-header>

        <ion-list>
          <ion-item-group (ionItemReorder)="reorderItems($event)"> <!-- reorder="true" -->
              <ion-item-sliding *ngFor='let todo of list.items'>
                  <ion-item>
                      <todo-item item-content [todo]='todo' [listuid]='list.uuid'></todo-item>
                  </ion-item>
                  <ion-item-options side='left'>
                      <button ion-button (click)='deleteItem(list.uuid, todo.uuid)' color="danger">
                          <ion-icon name="close"></ion-icon>{{ 'remove-button-caption' | translate }}
                      </button>
                      <button ion-button (click)='editItem(todo)' color="secondary">
                          <ion-icon name="pricetag"></ion-icon>{{ 'edit-button-caption' | translate }}
                      </button>
                  </ion-item-options>
              </ion-item-sliding>
          </ion-item-group>
        </ion-list>

        <ion-buttons end>
            <button ion-button color="light" (click)='returnParentPage()'>
                <ion-icon name="return-left">
                {{ 'return-label' | translate }}
                </ion-icon>
            </button>
            <button ion-button color="secondary" (click)='addItem()'>
                <ion-icon name="add"> {{ 'add-button-caption' | translate }}</ion-icon>
            </button>
        </ion-buttons>
    </ion-card>
</ion-content>
